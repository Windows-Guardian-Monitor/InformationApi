@inject NavigationManager NavigationManager
@inject ILocalStorageService LocalStorage
@inject AuthenticationStateProvider AuthStateProvider

<AuthorizeView>
	<Authorized>
		<button @onclick="Logout" Class="btn btn-danger">Logout</button>
	</Authorized>
	<NotAuthorized>
		<button @onclick="Login" Class="btn btn-primary">Login</button>
	</NotAuthorized>
</AuthorizeView>

@code {
	void Login()
	{
		NavigationManager.NavigateTo("login");
	}

	async Task Logout()
	{
		await LocalStorage.RemoveItemAsync("token");
		await AuthStateProvider.GetAuthenticationStateAsync();
	}
}
